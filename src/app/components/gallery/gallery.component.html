<div class="gallery-section" id="gallery">
  <div class="section-wrap">
    <div class="section-head reveal">
      <h2 class="section-title">In the Field</h2>
      <span class="section-count">Behind the Work</span>
    </div>
  </div>
  <div class="gallery-grid">
    @for (image of images; track image.src) {
      <div
        class="gallery-item reveal"
        [class.span-full]="image.spanFull"
        (click)="openLightbox(image)"
      >
        <img [src]="image.src" [alt]="image.alt" loading="lazy" />
        <div class="gallery-overlay">
          <div class="gallery-caption">{{ image.caption }}</div>
        </div>
      </div>
    }
  </div>
</div>

<!-- Lightbox -->
@if (lightboxOpen && activeImage) {
  <div class="lightbox open" (click)="onLightboxClick($event)">
    <button class="lightbox-close" (click)="closeLightbox()">Ã—</button>
    <img [src]="activeImage.src" [alt]="activeImage.alt" />
    <div class="lightbox-caption">{{ activeImage.caption }}</div>
  </div>
}
